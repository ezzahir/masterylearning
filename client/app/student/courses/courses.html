<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <ui-view>
                <div>
                    <a ui-sref="home.student">Back</a>
                </div>

                <h1>{{course.title}} {{course.period}}</h1>
                <p ng-bind-html="trust (entry.text)"></p>

                <div ng-repeat="entry in entries">

                    <!-- type Section -->
                    <div ng-if="entry.type=='section'">
                        <h2>
                            <a ng-if="mode === 'structure'" ui-sref="home.student.courses.entries.structure({course_id: course.id, entry_id: entry.id})">{{ entry.title }}</a>
                            <a ng-if="mode === 'flow' && entry.seen" ui-sref="home.student.courses.entries.flow({course_id: course_id, entry_id: entry.id })">{{ entry.title }}</a>
                            <span ng-if="mode === 'flow' && !entry.seen">{{ entry.title }}</span>
                        </h2>
                        <p>{{ entry.description }}</p>
                    </div>
                    <!-- type Unit -->
                    <div ng-if="entry.type=='unit'">
                        <p><strong>TODO: Rendering unit</strong></p>
                    </div>

                    <div ng-if="entry.type !='section' && entry.type != 'unit'" class="entry">
                        <div class="alert alert-danger">An error occurred. A course can contain only sections and units as its immediate children. Please notify the administrator.</div>
                    </div>

                </div>

            </ui-view>
        </div>
    </div>
</div>
