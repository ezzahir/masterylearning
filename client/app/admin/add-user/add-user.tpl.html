<div class="row" ng-if="active">
    <div class="col-md-12">

        <div class="panel panel-default">
            <div class="panel-heading">
                <strong>Create User</strong>
            </div>
            <div class="panel-body">
                <form>

                    <div class="form-group">
                        <label for="fullname">Fullname *:</label>
                        <input ng-model="user.fullname" type="text" id="fullname" class="form-control" placeholder="Fullname">
                    </div>

                    <div class="form-group has-feedback" ng-class="{ 'has-error': errors['username'], 'has-success': usernamematches }">
                        <label for="username">Username:</label>
                        <input ng-model="user.username" ng-change="usernameChangedCb ()" type="text" id="username" class="form-control" placeholder="Username">
                        <span ng-show="errors['username']" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                        <span ng-show="usernamematches"
                              class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
                    </div>

                    <div class="alert alert-info">
                        The username is optional. If you leave it empty, then a generic username in the
                        form of 'user1234567' will be created.
                    </div>

                    <div class="form-group">
                        <label for="email">Email *:</label>
                        <input ng-model="user.email" type="text" id="email" class="form-control" placeholder="Email">
                    </div>

                    <!-- TODO: it would be nice not to set a password, and instead have a password reset token
                               be created automatically.
                      -->

                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input ng-model="user.password" type="password" id="password" class="form-control" placeholder="Passwort">
                    </div>

                    <div ng-repeat="role in Role.values ()" class="checkbox">
                        <label>
                            <input ng-model="roles[$index]" ng-change="roleCheckedCb ()" type="checkbox" id="roles">
                            {{ Role.getName (role) }}
                        </label>
                    </div>

                    <div ng-if="errors['addUser']" class="form-group has-feedback" ng-class="{ 'has-error': errors['addUser']}">
                        Adding the user failed.
                    </div>

                    <button ng-click="confirmCb ()" class="btn btn-success">Create</button>
                    <button ng-click="cancelCb ()" class="btn btn-default">Cancel</button>

                </form>
            </div>
        </div>
    </div>
</div>
